# ${DATA_PATH_NINA}: path/to/network/data/
# ${DATA_PATH_LOCAL}: path/to/offline/data/
# stored in user-dir/.env

# ----------------------------
# DATA CATALOG
# ----------------------------

# general data 
admin:
  type: filegdb
  filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/general/<<municipality>>_admindata.gdb
  fc:
    - analyseomrade
    - analyseomrade_buffer200
    - bydeler
    - grunnkretser
    - kommune

neighbourhood:
    type: featureclass
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/general/<<municipality>>_admindata.gdb/bydeler
    key: "bydelnummer"

lookup_fields:
    type: excel
    filepath: ${DATA_PATH_LOCAL}/data/lookup_tables/lookup_attribute_fields.xlsx
    sheet_names:
        - complete_attribute_list
        - itree_eco_table
        - crowns_table
        - stems_table

lookup_species:
    type: excel
    filepath: ${DATA_PATH_LOCAL}/data/lookup_tables/lookup_tree_species.xlsx
    sheet_names:
        - itree_species_lookup
        - naturtype_lookup

# raw data
raw_in_situ_trees:
    type: featureclass
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/raw/<<municipality>>_insitu_bytraer.gdb/itree_traer
    fields:
        bodo:
            - GlobalID
            - OBJECTID
            - Shape
            - bydelnummer
            - stem_id
            - Treslag
            - Kommentar_Treslag
            - Omkrets
            - Høyde
            - Sted
            - Registreringsdato
            - Creator_1
            - Kommentar
        baerum:
            - OBJECTID
            - Shape
            - naturtype
            - stammeomkrets
            - omradenavn
            - kartleggingsdato
            - kartlegger
        kristiansand:
            - GlobalID
            - OBJECTID
            - Shape
            - bydelnummer
            - stem_id
            - id
            - botanisk_n
            - art
            - stammeomkr
            - DBH
            - hoyde
            - kronebredd
            - datafangst
            - registrert
            - kommentar

raw_laser_trekroner:
    type: featureclass
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/raw/<<municipality>>_laser_bytraer.gdb/trekroner

# interim data
interim_input_stems:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/input_stems.gdb
    fc:
        - stems_in_situ

interim_input_crowns:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/input_crowns.gdb

geo_relation_round_1:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/geo_relation/merge_round_1.gdb
    fc:
        - crowns_round_1

geo_relation_round_2:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/geo_relation/merge_round_2.gdb
    fc:
        - crowns_in_situ
        - crowns_all
        - tops_all
    
geo_relation:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/geo_relation.gdb
    fc: 
        - crowns_in_situ
        - crowns_all
        - stems_in_situ
        - tops_all 
        - crowns_not_detected

# interim extrapolation
reference_oslo:
    type: excel
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/extrapolation/reference_oslo.xlsx
    sheet_names:
        - metadata
        - reference_data

reference_municipality:
    type: excel
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/extrapolation/reference_<<municipality>>.xlsx
    sheet_names:
        - metadata
        - reference_data
        - unique_species

target_municipality:
    type: excel
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/extrapolation/target_<<municipality>>.xlsx
    sheet_names:
        - metadata
        - target_data

# interim compute attributes
attr_input:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/input_attribute_calculation.gdb
    fc:
        - crowns_in_situ
        - crowns_all
        - stems_in_situ
    description: input to attribute computation

attr_overlay:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/attributes/attr_overlay.gdb
    description: attributes computed in overlay_attributes.py

attr_tree:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/attributes/attr_tree.gdb
    description: attributes computed in tree_attributes.py

attr_building_distance:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/attributes/attr_building_distance.gdb
    description: attributes computed in building_distance.py

attr_cle:
    type: filegdb
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/interim/attributes/attr_cle.gdb
    description: attributes computed in cle.py

# processed
extrapolated_values:
    type: csv
    filepath: ${DATA_PATH_LOCAL}/data/<<municipality>>/itree-support-tools/processed/<<municipality>>_extrapolated_values.csv

# ----------------------------
# METADATA
# ----------------------------

metadata:
    filepath: path/to/metadata
    identification:
        title:
            en: english title
            no: norwegian title (bokmål)
        description:
            en: english title
            no: norwegian title (bokmål)
        keywords:
            en:
                - spatial data
            no:
                - romlige data
        keywords_type: theme
        terms_of_service: https://opensource.org/license/mit/
        url: http://example.org
    license:
        name: The MIT License (MIT)
        url: https://opensource.org/license/mit/
    provider:
        name: Organization Name
        url: http://example.org
    contact:
        name: Lastname, Firstname
        position: Position Title
        address: Mailing Address
        city: City
        stateorprovince: Administrative Area
        postalcode: Zip or Postal Code
        country: Country
        phone: +xx-xxx-xxx-xxxx
        email: you@example.org
        url: Contact URL
        hours: Hours of Service
        instructions: During hours of service.  Off on weekends.
        role: pointOfContact


